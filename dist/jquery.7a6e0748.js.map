{"version":3,"sources":["jquery.js"],"names":["window","$","jQuery","selectorOrArrayOrTemplate","elements","createElement","document","querySelectorAll","Array","string","container","innerHTML","trim","content","firstChild","api","Object","create","prototype","assign","oldApi","fn","constructor","jquery","addClass","className","i","length","classList","add","find","selector","array","elements2","from","concat","end","each","call","parent","node","indexOf","parentNode","push","children","print","console","log","appendTo","Element","el","appendChild","get","append","HTMLCollection","index"],"mappings":";;;;;;;;;;;;AAAAA,MAAM,CAACC,CAAP,GAAWD,MAAM,CAACE,MAAP,GAAgB,UAAUC,yBAAV,EAAqC;AAC9D;AACA,MAAIC,QAAJ;;AACA,MAAI,OAAOD,yBAAP,KAAqC,QAAzC,EAAmD;AACjD,QAAIA,yBAAyB,CAAC,CAAD,CAAzB,KAAiC,GAArC,EAA0C;AACxCC,MAAAA,QAAQ,GAAG,CAACC,aAAa,CAACF,yBAAD,CAAd,CAAX;AACD,KAFD,MAEO;AACLC,MAAAA,QAAQ,GAAGE,QAAQ,CAACC,gBAAT,CAA0BJ,yBAA1B,CAAX,CADK,CAEL;AACD;AACF,GAPD,MAOO,IAAIA,yBAAyB,YAAYK,KAAzC,EAAgD;AACrDJ,IAAAA,QAAQ,GAAGD,yBAAX;AACD;;AAED,WAASE,aAAT,CAAuBI,MAAvB,EAA+B;AAC7B,QAAMC,SAAS,GAAGJ,QAAQ,CAACD,aAAT,CAAuB,UAAvB,CAAlB;AACAK,IAAAA,SAAS,CAACC,SAAV,GAAsBF,MAAM,CAACG,IAAP,EAAtB;AACA,WAAOF,SAAS,CAACG,OAAV,CAAkBC,UAAzB;AACD;;AAED,MAAMC,GAAG,GAAGC,MAAM,CAACC,MAAP,CAAcf,MAAM,CAACgB,SAArB,CAAZ;AAEAF,EAAAA,MAAM,CAACG,MAAP,CAAcJ,GAAd,EAAmB;AACjBX,IAAAA,QAAQ,EAAEA,QADO;AAEjBgB,IAAAA,MAAM,EAAEjB,yBAAyB,CAACiB,MAFjB,CAGjB;;AAHiB,GAAnB;AAKA,SAAOL,GAAP;AACD,CA5BD;;AA8BAb,MAAM,CAACmB,EAAP,GAAYnB,MAAM,CAACgB,SAAP,GAAmB;AAC7BI,EAAAA,WAAW,EAAEpB,MADgB;AAE7BqB,EAAAA,MAAM,EAAE,IAFqB;AAG7BC,EAAAA,QAH6B,oBAGpBC,SAHoB,EAGT;AAClB,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,QAAL,CAAcuB,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,WAAKtB,QAAL,CAAcsB,CAAd,EAAiBE,SAAjB,CAA2BC,GAA3B,CAA+BJ,SAA/B,EAD6C,CAE7C;AACD;;AACD,WAAO,IAAP,CALkB,CAMlB;;AACA;;;AAGD,GAb4B;AAe7BK,EAAAA,IAf6B,gBAexBC,QAfwB,EAed;AACb,QAAIC,KAAK,GAAG,EAAZ;;AACA,SAAK,IAAIN,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,QAAL,CAAcuB,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,UAAMO,SAAS,GAAGzB,KAAK,CAAC0B,IAAN,CAAW,KAAK9B,QAAL,CAAcsB,CAAd,EAAiBnB,gBAAjB,CAAkCwB,QAAlC,CAAX,CAAlB,CAD6C,CAE7C;;AACAC,MAAAA,KAAK,GAAGA,KAAK,CAACG,MAAN,CAAaF,SAAb,CAAR;AACD;;AACDD,IAAAA,KAAK,CAACZ,MAAN,GAAe,IAAf,CAPa,CAQb;;AACA,WAAOlB,MAAM,CAAC8B,KAAD,CAAb;AACD,GAzB4B;AA2B7BI,EAAAA,GA3B6B,iBA2BvB;AACJ,WAAO,KAAKhB,MAAZ;AACD,GA7B4B;AA8B7B;AAEAiB,EAAAA,IAhC6B,gBAgCxBhB,EAhCwB,EAgCpB;AACP,SAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,QAAL,CAAcuB,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7CL,MAAAA,EAAE,CAACiB,IAAH,CAAQ,IAAR,EAAc,KAAKlC,QAAL,CAAcsB,CAAd,CAAd,EAAgCA,CAAhC;AACD;;AACD,WAAO,IAAP;AACD,GArC4B;AAuC7Ba,EAAAA,MAvC6B,oBAuCpB;AACP,QAAMP,KAAK,GAAG,EAAd;AAEA,SAAKK,IAAL,CAAU,UAACG,IAAD,EAAU;AAClB,UAAIR,KAAK,CAACS,OAAN,CAAcD,IAAI,CAACE,UAAnB,MAAmC,CAAC,CAAxC,EAA2C;AACzC;AACAV,QAAAA,KAAK,CAACW,IAAN,CAAWH,IAAI,CAACE,UAAhB;AACD;AACF,KALD;AAMAV,IAAAA,KAAK,CAACZ,MAAN,GAAe,IAAf;AACA,WAAOlB,MAAM,CAAC8B,KAAD,CAAb,CAVO,CAWP;AACD,GAnD4B;AAqD7BY,EAAAA,QArD6B,sBAqDlB;AACT,QAAMZ,KAAK,GAAG,EAAd;AACA,SAAKK,IAAL,CAAU,UAACG,IAAD,EAAU;AAClBR,MAAAA,KAAK,CAACW,IAAN,OAAAX,KAAK,qBAASQ,IAAI,CAACI,QAAd,EAAL,CADkB,CAElB;AACD,KAHD;AAIA,WAAO1C,MAAM,CAAC8B,KAAD,CAAb;AACD,GA5D4B;AA8D7Ba,EAAAA,KA9D6B,mBA8DrB;AACNC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAK3C,QAAjB;AACD,GAhE4B;AAkE7B4C,EAAAA,QAlE6B,oBAkEpBR,IAlEoB,EAkEd;AACb;AACA,QAAIA,IAAI,YAAYS,OAApB,EAA6B;AAC3B,WAAKZ,IAAL,CAAU,UAACa,EAAD;AAAA,eAAQV,IAAI,CAACW,WAAL,CAAiBD,EAAjB,CAAR;AAAA,OAAV;AACD,KAFD,MAEO,IAAIV,IAAI,CAACjB,MAAL,KAAgB,IAApB,EAA0B;AAC/B,WAAKc,IAAL,CAAU,UAACa,EAAD;AAAA,eAAQV,IAAI,CAACY,GAAL,CAAS,CAAT,EAAYD,WAAZ,CAAwBD,EAAxB,CAAR;AAAA,OAAV;AACD;AACF,GAzE4B;AA2E7BG,EAAAA,MA3E6B,kBA2EtBT,QA3EsB,EA2EZ;AAAA;;AACf,QAAIA,QAAQ,YAAYK,OAAxB,EAAiC;AAC/B,WAAKG,GAAL,CAAS,CAAT,EAAYD,WAAZ,CAAwBP,QAAxB;AACD,KAFD,MAEO,IAAIA,QAAQ,YAAYU,cAAxB,EAAwC;AAC7C,WAAK,IAAI5B,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkB,QAAQ,CAACjB,MAA7B,EAAqCD,CAAC,EAAtC,EAA0C;AACxC,aAAK0B,GAAL,CAAS,CAAT,EAAYD,WAAZ,CAAwBP,QAAQ,CAAClB,CAAD,CAAhC;AACD;AACF,KAJM,MAIA,IAAIkB,QAAQ,CAACrB,MAAT,KAAoB,IAAxB,EAA8B;AACnCqB,MAAAA,QAAQ,CAACP,IAAT,CAAc,UAACG,IAAD;AAAA,eAAU,KAAI,CAACY,GAAL,CAAS,CAAT,EAAYD,WAAZ,CAAwBX,IAAxB,CAAV;AAAA,OAAd;AACD;;AACD,WAAO,IAAP;AACD,GAtF4B;AAwF7BY,EAAAA,GAxF6B,eAwFzBG,KAxFyB,EAwFlB;AACT,WAAO,KAAKnD,QAAL,CAAcmD,KAAd,CAAP;AACD;AA1F4B,CAA/B","file":"jquery.7a6e0748.js","sourceRoot":"..\\src","sourcesContent":["window.$ = window.jQuery = function (selectorOrArrayOrTemplate) {\r\n  //两个 = 在一行，执行顺序为从右往左\r\n  let elements;\r\n  if (typeof selectorOrArrayOrTemplate === \"string\") {\r\n    if (selectorOrArrayOrTemplate[0] === \"<\") {\r\n      elements = [createElement(selectorOrArrayOrTemplate)];\r\n    } else {\r\n      elements = document.querySelectorAll(selectorOrArrayOrTemplate);\r\n      //获取elements后可以直接调用fn操作elements 所以 jQuery 会return 一个对象,而不是elements\r\n    }\r\n  } else if (selectorOrArrayOrTemplate instanceof Array) {\r\n    elements = selectorOrArrayOrTemplate;\r\n  }\r\n\r\n  function createElement(string) {\r\n    const container = document.createElement(\"template\");\r\n    container.innerHTML = string.trim();\r\n    return container.content.firstChild;\r\n  }\r\n\r\n  const api = Object.create(jQuery.prototype);\r\n\r\n  Object.assign(api, {\r\n    elements: elements,\r\n    oldApi: selectorOrArrayOrTemplate.oldApi,\r\n    //end() 返回的是api，api是没有oldApi的，所以需要构造一个\r\n  });\r\n  return api;\r\n};\r\n\r\njQuery.fn = jQuery.prototype = {\r\n  constructor: jQuery,\r\n  jquery: true,\r\n  addClass(className) {\r\n    for (let i = 0; i < this.elements.length; i++) {\r\n      this.elements[i].classList.add(className);\r\n      //这里是一个闭包，addClass函数访问外部的elements（此时浏览器不会清除elements，因此可以实现链式操作）\r\n    }\r\n    return this;\r\n    //return this 链式操作，方便多次调用自己\r\n    /*\r\n      调用该函数 api.addClass(x) === api.addClass.call(api,x)\r\n     */\r\n  },\r\n\r\n  find(selector) {\r\n    let array = [];\r\n    for (let i = 0; i < this.elements.length; i++) {\r\n      const elements2 = Array.from(this.elements[i].querySelectorAll(selector));\r\n      //找到有selector的所有元素（querySelector得到的是伪数组,直接concat会把elements2全部放到一个key里面）\r\n      array = array.concat(elements2);\r\n    }\r\n    array.oldApi = this;\r\n    //由于返回上一个api\r\n    return jQuery(array);\r\n  },\r\n\r\n  end() {\r\n    return this.oldApi;\r\n  },\r\n  //返回上一个api\r\n\r\n  each(fn) {\r\n    for (let i = 0; i < this.elements.length; i++) {\r\n      fn.call(null, this.elements[i], i);\r\n    }\r\n    return this;\r\n  },\r\n\r\n  parent() {\r\n    const array = [];\r\n\r\n    this.each((node) => {\r\n      if (array.indexOf(node.parentNode) === -1) {\r\n        //防止多次push重复的parentNode\r\n        array.push(node.parentNode);\r\n      }\r\n    });\r\n    array.oldApi = this;\r\n    return jQuery(array);\r\n    //返回的是可操作的对象\r\n  },\r\n\r\n  children() {\r\n    const array = [];\r\n    this.each((node) => {\r\n      array.push(...node.children);\r\n      //... 展开操作符\r\n    });\r\n    return jQuery(array);\r\n  },\r\n\r\n  print() {\r\n    console.log(this.elements);\r\n  },\r\n\r\n  appendTo(node) {\r\n    //把xxx追加到node中\r\n    if (node instanceof Element) {\r\n      this.each((el) => node.appendChild(el));\r\n    } else if (node.jquery === true) {\r\n      this.each((el) => node.get(0).appendChild(el));\r\n    }\r\n  },\r\n\r\n  append(children) {\r\n    if (children instanceof Element) {\r\n      this.get(0).appendChild(children);\r\n    } else if (children instanceof HTMLCollection) {\r\n      for (let i = 0; i < children.length; i++) {\r\n        this.get(0).appendChild(children[i]);\r\n      }\r\n    } else if (children.jquery === true) {\r\n      children.each((node) => this.get(0).appendChild(node));\r\n    }\r\n    return this;\r\n  },\r\n\r\n  get(index) {\r\n    return this.elements[index];\r\n  },\r\n};\r\n"]}